<!doctype html>
<html lang="en">

<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta name="title" content="ColorCompare: Visual Color Comparison Tool" />
    <meta name="description" content="ColorCompare provides a simple way to compare and contrast colors instantly for your design projects." />
    <meta name="keywords" content="color comparison, color tool, design tool, color match" />
    <meta name="robots" content="index, follow" />
    <title>ColorCompare: Visual Color Comparison Tool</title>
    <!-- Google Fonts -->
    <link href="https://fonts.googleapis.com/css2?family=Roboto:wght@400;700&display=swap" rel="stylesheet" />
    <link rel="stylesheet" href="src/styles/style.css" />
</head>

<body class="bg-gray-100">
    <header class="relative overflow-hidden bg-gray-100 p-8 text-center shadow-md">
        <div class="pointer-events-none absolute inset-0"></div>
        <div class="relative z-10">
            <img src="src/assets/logo.png" alt="ColorCompare Logo" class="mx-auto h-16" width="198" height="64" />
        </div>
        <h1 class="mt-4 text-4xl font-bold text-black">
            Compare colors side by side
        </h1>
        <p class="mt-2 text-lg text-[#1d3657]">
            Discover and compare colors in real time. Simple, fast, and beautiful.
        </p>
    </header>

    <div class="color-picker-container" id="colorPickers">
        <!-- Initial color pickers will be added dynamically -->
        <button id="addColor" type="button">+ Add More Color</button>
    </div>

    <div class="flex flex-grow flex-row" id="colorDisplays">
        <!-- Color display divs will be added dynamically -->
    </div>

    <div class="mx-auto max-w-4xl px-4 py-8">
        <h2 class="mb-4 text-2xl font-bold text-gray-800">
            Why Color Matters in Design
        </h2>
        <p class="mb-6 text-gray-600 rounded-lg bg-white p-4 shadow">
            Colors play a pivotal role in design, whether it's for a website, a home interior, or a corporate logo. They can trigger psychological responses and carry with them cultural associations that are vital to consider during the design process. With ColorCompare,
            you can place colors side by side to see how they complement or contrast, helping you make informed design decisions.
        </p>
    
        <h2 class="mb-4 text-2xl font-bold text-gray-800">
            Features of ColorCompare
        </h2>
        <div class="-mx-2 flex flex-wrap">
            <div class="mb-4 w-full px-2 md:w-1/2">
                <div class="rounded-lg bg-white p-4 shadow">
                    <div class="mb-3 h-16 w-16 bg-green-500"></div>
                    <h3 class="mb-2 text-lg font-bold">
                        Side-by-Side Color Visualization
                    </h3>
                    <p class="text-gray-600">
                        Compare up to five colors side by side to visually assess how they complement or contrast with each other, enhancing your design decision-making process.
                    </p>
                </div>
            </div>
            <div class="mb-4 w-full px-2 md:w-1/2">
                <div class="rounded-lg bg-white p-4 shadow">
                    <div class="mb-3 h-16 w-16 bg-blue-500"></div>
                    <h3 class="mb-2 text-lg font-bold">
                        Dynamic Color Information
                    </h3>
                    <p class="text-gray-600">
                        Access real-time HEX, RGB and CMYK values for each color selection, enabling precise color matching and a deeper understanding of your color choices.
                    </p>
                </div>
            </div>
            <div class="mb-4 w-full px-2 md:w-1/2">
                <div class="rounded-lg bg-white p-4 shadow">
                    <div class="mb-3 h-16 w-16 bg-red-500"></div>
                    <h3 class="mb-2 text-lg font-bold">
                        Interactive Color Adjustment
                    </h3>
                    <p class="text-gray-600">
                        Directly input or adjust HEX values to see instant updates in color displays, offering a flexible and interactive way to fine-tune your color palette.
                    </p>
                </div>
            </div>
            <div class="mb-4 w-full px-2 md:w-1/2">
                <div class="rounded-lg bg-white p-4 shadow">
                    <div class="mb-3 h-16 w-16 bg-yellow-500"></div>
                    <h3 class="mb-2 text-lg font-bold">
                        User-Friendly Interface
                    </h3>
                    <p class="text-gray-600">
                        ColorCompare boasts an intuitive interface that requires no learning curve â€“ select your colors, and get instant visual feedback.
                    </p>
                </div>
            </div>
        </div>
    </div>    

    <footer class="p-4 text-center">
        <p class="text-sm">
            &copy; 2024 ColorCompare created by
            <a href="http://www.libin.in/" target="_blank" rel="noopener">Libin V Babu</a>. View the source code on <a href="https://github.com/libinvbabu/colorcompare" target="_blank" rel="noopener">GitHub</a>
        </p>
    </footer>

    <script>
        let colorCount = 0;
        let activeColorPickers = []; // Track active color pickers
        const defaultColors = ["#B4B4B8", "#C7C8CC", "#EEEEEE", "#E3E1D9", "#F2EFE5"];
    
        function initializeColorPickers() {
            for (let i = 0; i < 2; i++) {
                addColorPicker(i, false);
            }
        }
    
        function addColorPicker(index, removable = true) {
            if (activeColorPickers.length >= 5) return;
    
            colorCount++;
            const colorPickerId = `inputColor${colorCount}`;
            const colorDisplayId = `color${colorCount}`;
            activeColorPickers.push(colorCount);
    
            const defaultColor = defaultColors[index] || defaultColors[defaultColors.length - 1];
            const colorPickerContainer = document.getElementById('colorPickers');
            const addColorButton = document.getElementById('addColor');
    
            let colorPickerHTML = document.createElement('div');
            colorPickerHTML.className = 'input-group';
            colorPickerHTML.id = `group${colorCount}`;
            colorPickerHTML.innerHTML = `
                <label for="${colorPickerId}" class="sr-only">Color ${colorCount}</label>
                <input id="${colorPickerId}" type="text" class="color-input" placeholder="${defaultColor}" />
                <input aria-labelledby="${colorPickerId}" type="color" class="color-picker" value="${defaultColor}" />
                ${removable ? `<button type="button" class="close-picker" onclick="removeColorPicker(${colorCount})">X</button>` : ''}
            `;
    
            // Insert the new color picker HTML before the Add Color button
            colorPickerContainer.insertBefore(colorPickerHTML, addColorButton);

            const rgb = hexToRgb(defaultColor);
            const cmyk = hexToCmyk(defaultColor);
    
            const colorDisplayHTML = `<div id="${colorDisplayId}" class="color-display" style="background-color: ${defaultColor};"><div id="color-info-${colorCount}" class="color-info">${defaultColor}<br>${rgbToString(rgb)}<br>${cmykToString(cmyk)}</div></div>`;
            document.getElementById('colorDisplays').insertAdjacentHTML('beforeend', colorDisplayHTML);
    
            const colorInput = document.getElementById(colorPickerId);
            const colorPicker = document.querySelector(`#group${colorCount} .color-picker`);
    
            attachColorChangeListeners(colorPicker, colorInput, colorDisplayId, colorCount);
    
            updateAddColorButtonVisibility();
        }
    
        function attachColorChangeListeners(colorPicker, colorInput, colorDisplayId, colorCount) {
            colorPicker.addEventListener("input", function () {
                const colorValue = this.value;
                colorInput.value = colorValue;
                document.getElementById(colorDisplayId).style.backgroundColor = colorValue;
    
                // Update the color info text dynamically when the color changes
                const colorInfoDiv = document.getElementById(`color-info-${colorCount}`);

                const rgb = hexToRgb(colorValue);
                const cmyk = hexToCmyk(colorValue);
                colorInfoDiv.innerHTML = `${colorValue}<br>${rgbToString(rgb)}<br>${cmykToString(cmyk)}`;
            });
    
            colorInput.addEventListener("keyup", function () {
                const colorValue = this.value.toUpperCase();
                const validColor = /^#([0-9A-F]{3}){1,2}$/i.test(colorValue);
                if (validColor) {
                    colorPicker.value = colorValue;
                    document.getElementById(colorDisplayId).style.backgroundColor = colorValue;
    
                    // Update the color info text
                    const colorInfoDiv = document.getElementById(`color-info-${colorCount}`);

                    const rgb = hexToRgb(colorValue);
                    const cmyk = hexToCmyk(colorValue);
                    colorInfoDiv.innerHTML = `${colorValue}<br>${rgbToString(rgb)}<br>${cmykToString(cmyk)}`;
                }
            });
        }
    
        function hexToRgb(hex) {
            let r = parseInt(hex.slice(1, 3), 16);
            let g = parseInt(hex.slice(3, 5), 16);
            let b = parseInt(hex.slice(5, 7), 16);
            return { r, g, b };
        }

        function rgbToCmyk(r, g, b) {
            let c = 1 - (r / 255);
            let m = 1 - (g / 255);
            let y = 1 - (b / 255);
            let k = Math.min(c, Math.min(m, y));

            c = (c - k) / (1 - k);
            m = (m - k) / (1 - k);
            y = (y - k) / (1 - k);

            // Converting to percentage values
            c = Math.round(c * 100);
            m = Math.round(m * 100);
            y = Math.round(y * 100);
            k = Math.round(k * 100);

            return { c, m, y, k };
        }

        function hexToCmyk(hex) {
            const { r, g, b } = hexToRgb(hex);
            return rgbToCmyk(r, g, b);
        }

        function rgbToString(rgb) {
            return `RGB(${rgb.r}, ${rgb.g}, ${rgb.b})`;
        }

        function cmykToString(cmyk) {
            return `CMYK(${cmyk.c}%, ${cmyk.m}%, ${cmyk.y}%, ${cmyk.k}%)`;
        }


    
        function removeColorPicker(index) {
            const colorPickerGroup = document.getElementById(`group${index}`);
            const colorDisplay = document.getElementById(`color${index}`);
            if (colorPickerGroup && colorDisplay) {
                colorPickerGroup.remove();
                colorDisplay.remove();
                activeColorPickers = activeColorPickers.filter(id => id !== index);
            }
    
            updateAddColorButtonVisibility();
        }
    
        function updateAddColorButtonVisibility() {
            const addColorButton = document.getElementById('addColor');
            if (activeColorPickers.length >= 5) {
                addColorButton.style.display = 'none';
            } else {
                addColorButton.style.display = 'inline-block'; // Or 'block', depending on your layout
            }
        }
    
        document.getElementById('addColor').addEventListener('click', function() {
            addColorPicker(activeColorPickers.length);
        });
    
        initializeColorPickers();
        updateAddColorButtonVisibility();
    </script>    
    
</body>

</html>